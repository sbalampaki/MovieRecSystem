<!DOCTYPE html>
<html>
<head>
  <title>Recommended Movies</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    .page-indicator {
      background-color: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 4px;
      padding: 8px 16px;
      margin: 0 10px;
      font-weight: 500;
    }
    .page-selector {
      margin: 0 10px;
      width: 80px;
      padding: 0.375rem 0.5rem;
      font-size: 0.875rem;
    }
  </style>
</head>
<body class="p-4">
  <div class="container">
    <h2>ðŸŽ¥ Recommended Movies</h2>
    
    {% if results %}
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Name</th>
            <th>Rating</th>
            <th>Genre</th>
            <th>Year</th>
            <th>Score</th>
            <th>Director</th>
            <th>Writer</th>
            <th>Star</th>
            <th>Country</th>
          </tr>
        </thead>
        <tbody>
          {% for movie in results %}
            <tr>
              <td>{{ movie.name }}</td>
              <td>{{ movie.rating }}</td>
              <td>{{ movie.genre }}</td>
              <td>{{ movie.year }}</td>
              <td>{{ movie.score }}</td>
              <td>{{ movie.director }}</td>
              <td>{{ movie.writer }}</td>
              <td>{{ movie.star }}</td>
              <td>{{ movie.country }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class="d-flex justify-content-center align-items-center">
        {% if page > 1 %}
          <a class="btn btn-secondary" href="?genre={{ request.args.get('genre', '') }}&rating={{ request.args.get('rating', '') }}&country={{ request.args.get('country', '') }}&director={{ request.args.get('director', '') }}&writer={{ request.args.get('writer', '') }}&star={{ request.args.get('star', '') }}&page={{ page - 1 }}">â¬… Prev</a>
        {% endif %}
        
        <span class="page-indicator">Page {{ page }} of {{ total_pages }}</span>

        <select class="form-select page-selector" onchange="window.location.href=this.value">
          <option value="" disabled selected>Jump to page...</option>
          {% for p in range(1, total_pages + 1) %}
            <option value="?genre={{ request.args.get('genre', '') }}&rating={{ request.args.get('rating', '') }}&country={{ request.args.get('country', '') }}&director={{ request.args.get('director', '') }}&writer={{ request.args.get('writer', '') }}&star={{ request.args.get('star', '') }}&page={{ p }}"
                    {% if p == page %}selected{% endif %}>
              Page {{ p }}
            </option>
          {% endfor %}
        </select>
        
        {% if page < total_pages %}
          <a class="btn btn-secondary" href="?genre={{ request.args.get('genre', '') }}&rating={{ request.args.get('rating', '') }}&country={{ request.args.get('country', '') }}&director={{ request.args.get('director', '') }}&writer={{ request.args.get('writer', '') }}&star={{ request.args.get('star', '') }}&page={{ page + 1 }}">Next âž¡</a>
        {% endif %}
      </div>
    {% else %}
      <div class="alert alert-info">
        No movie recommendations found for your criteria.
      </div>
    {% endif %}
    
    <br>
    <a href="/" class="btn btn-outline-dark">Back to Home</a>
  </div>
</body>
</html>

